FLOW.TXT KRC System: Subroutine Calls and COMMON usage	 2013jan14

~: optional
-: 
.: if an atmosphere
k: if T-dependent
(n = call with control code =n

.
References to *.INC COMMON's

L=List  N=Nolist  X=explicit code

	KRCCOM	LATCOM	DAYCOM	UNITS	FILCOM	COMCOM	PORBCM
KRC	L	L	L	L	L	L	X
TSEAS	N			N		N
TLATS	N	N	N	N	N
TDAY	N		N	N
TCARD	N	N	N	N
TPRINT	N	N	N	N	N
TDISK	N	N		N	N
COMA	N	N		N		N
COMA2	N	N				N
PORB1				N			N
PORB							N
ALBVAR	N
TINT	N	N

no references to *.INC
AVEDAY  CP0	DATIME	EPRED	ORBIT	ROTATE	R2R


Call sequence, prepared for slide: crop  left=.22 bot=.72

KRC           /-> TSEAS        /--------------------------->TDAY (1
  R2R         ^  |->season     ^ /---->TLATS                  k EVMONO  4calls
  DATIME      ^  |  ~TCARD (2  ^ ^      ROTV              
  TCARD (1    ^  |  ^TDAY (1 ->/ ^      ~VLPRES                    
  ~TPRINT (1  ^  |  +PORB        ^      ~TPRINT (8                  
  DTIME       ^  |  ~SEASALB     ^ |-> latitude loop                     
-> case       ^  |  ~SEASTAU     ^ |    AVEDAY                       -/krc/flow
|  ~TCARD (2  ^  2  TLATS--->----/ |    ROTV 
|   TDAY (1   ^  |  .~TINT         |    VROTV                       
|  ~TPRINT (2 ^  |  ~TPRINT (5     |   .SIGMA                      
|  ~TDISK (1  ^  |  ~TPRINT (6     |   .~CLIMTAU                   
|  DATIME     ^  |  ~TDISK (5      |   .~ALBVAR                        
1 TSEAS --->--/  |  ~TDISK (2      |   .~CO2PT          /--->TDAY (2             
|  ~TPRINT (9    \<--season        ||->  timestep       ^  |>-day loop       
|  TCARD (2                        ||    ROTV           ^  ||>-timestep loop     
\<-case                            34   .DEDING2 (cos i ^  |||>-layer loop       
 +TDISK (4                         ||   .DEDING2 (cos t ^  456  k EVMONO  4calls
                                   |\<-- timestep       ^  ||\<-layer         
 : always                          |    AVEYEAR         ^  |\<-timestep       
+: usually                         |   ~TPRINT (3       ^  \<-day             
~: if invoked                      |    TDAY (2 --->---/    [only if blowup]
.: if an atmosphere                |    EPRED [5 times]      TPRINT (7    
k: if T-dependent                  |   ~TPRINT (4            TPRINT (2       
^ coupled to above                 \<---latitude             TPRINT (4 
(n: call with control code n 


porbcm in PORB0 TSEAS TYEARP
TCARD calls PORB0

PORBMN    Main program
  INCLUDE 'porbcm.inc'  
  may OPEN IOP 
  DATIME
  PORB1  Read orbital elements, compute matrices
    INCLUDE 'porbcm.inc'
    read IOK, write IOS,IOP
    PORBEL
    ROTDIA
    ROTAX
  PORBIO   Read/write Common to file
    INCLUDE 'porbcm.inc'
    read IOK, write IOS,IOP
    may OPEN IOD for read or write
  EPHEMR   Print ephemeris == geometry versus time
    INCLUDE 'porbcm.inc'
    read IOK, write IOP 
    PORB
    JDATE
    SPCREV
  PROBQQ   Test computation of matrices
    INCLUDE 'porbcm.inc'
    ROTDIA
    ROTAX
    MPRINT
    MPROD3