\documentclass{article}  % See Skeleton.tex for examples of many things

% epstopdf fig.eps       TO convert .eps fig to pdf NOPE
% latex  file[.tex]      TO generate .dvi
% pdflatex  file[.tex]   TO generate .pdf   NOPE no figs here 
% then  dvipdf Vtest.dvi To generate .pdf

% see definc.sty for other page format settings
%\usepackage{epsfig}
\usepackage[dvips]{graphicx}  % unComment this line for eps and latex
%\usepackage[dvipdf]{graphicx}  % unComment this line for non-eps pdflatex 

\usepackage{definc}  % Hughs conventions
%\textheight=9.80in  \topmargin=-0.5in    %  hobo normal=final
%\textwidth=7.5in  \oddsidemargin=-0.3in \evensidemargin=-0.3in  % hobo final
%\parindent=0.em \parskip=1.ex % paragraph spacing

\title{Testing new KRC versions and installations}
\author{Hugh H. Kieffer  \ \ File=-/krc/VER/Vtest.tex 2013dec12}
% local definitions
%\newcommand{\short}{full}    % begin & end un-numbered equations
\newcommand{\qdp}{$. \! ^\circ \! $} % degree over decimal point NOT in math mode 

\newcommand{\ql}[1]{\label{eq:#1} \hspace{1cm} \mathrm{eq:#1} \end{equation}}
%\newcommand{\ql}[1]{\label{eq:#1} \end{equation} } % for final

\newcommand{\cf}{$\Leftarrow$} % comes from 
%\newcommand{\igc}[1]{\includegraphics[trim=2.5mm 4.3mm 0.5mm 0.mm,c
%                                         bottom right  top  left
\newcommand{\igc}[1]{\includegraphics[trim=2.5mm -20.mm 6.5mm 4.mm,clip,angle=90,width=175.mm]{#1.eps}} 


\begin{document}
\maketitle
\tableofcontents
; \hrulefill .\hrulefill
%\listoffigures
%\listoftables

\section{Preamble / Mechanics}
This document is a guide to testing different versions and installations of KRC using the \np{krcvtest.pro} IDL program; it
should not be needed by the general user.

 \np{krcvtest.pro} is coded as a large case statement. The symbol '@' here
 refers to actions within the case statement; eg., @20 means enter 20 $<$CR$>$ after
 the prompt `` krcvtest Enter selection: 99=help 0=stop 123=auto$>$'' and the
 program will execute what is in that section of code.

The ``else'' in this case statement calls the procedure \np{kon91} which contains a large number of generally useful actions. 

@99 will list all actions in the main program, 
\qi then a dense reminder of the actions in \np{kon91}, 
\qi then the current action sequence, 123:
\qi then the actions that allow modification of parameters and their current values
\qii 11:, 14: 

@18 yields a quick guide to the current arrays, and @181 a detailed guide to the current KRC arrays.

The IDL program can and should produce figures on a black background; White-on-Black figures will be Black-on-White in this document; they were made by:
\qi @8 Open a B\&W  plot file
\qii  Action to generate figure
\qi [@88  Add subtitle with date to the plot]
\qi @9 Close the plot file
 
Colors figures will show colors better on a monitor than the color-on-white figures in this document, which were produced by:
\qi @80  enter 1.  Need do this only once.  Then, for each figure:
\qi @81 [initiate output file]
\qi  action to generate figure
\qi [@88  to add subtitle]
\qi @82  to close output file. Should rename cidl.eps.

\subsection{Notation use here}

File names are shown as \nf{file}. 
Program and routine names are shown as \np{PROGRM [,N]} , where \np{N}
indicates a major control index. 
Code variable names are shown as \nv{variab} and within equations as $\nvf{varia
b}$.  
Input parameters are shown as \nj{INPUT} and within equations as $\njf{INPUT}$.


\hrulefill .\hrulefill

\section{Introduction} 
This document describes KRC Version 2.2.2 and later; it applies to KRC Version
2.1.1 and later.

Version 2.1.2 and later uses dates relative to J2000.0 = 2000Jan01 noon UTC. To
change from older version dates, subtract 11545.0

The initial values of file names in \nv{parf}, accessed @11, should default to
files in the distro. for two versions of KRC, with Version A being the lastest
version and Version B being a prior version.  Comparisons between different file
types (0,-1,52) are coded for Version A only.

 @117 should set Version A to results computed with the new installation and
 version B to the latest results in the distro. @110 will reset the names to
 their default values.

Be careful to never overwrite files in the KRC distribution area. The sequence
in \nf{AAinstall} does send KRC output to the ./run/ directory, but with new
names. One technique would be to edit \nv{parf=[...} statement in
  \np{krcvtest.pro} to your DIRectory names: @11 items 0,5 and 10.

This program handles :
\qi two versions:   @200,201
\qi two groups (of cases): @202,203
\qi three file types: read at @252, 50, 51

\subsection{Families of Tests}

\Large
In general, do not override the prior version of KRC at your site before running this version comparison.
\normalsize

1) Test new installation against output files supplied for the same KRC version
\qi All statistical results should be zero or at roundoff level

2) Test installation against the prior version
\qi Run the test cases with the prior version of KRC installed at your site to generate the needed output files.


\subsection{Outline of the test procedure}

Save the  \nf{VerTest.inp} file with a name that indicates the prior version.

Edit a new version of \nf{VerTest.inp}.  Unless the input formats/content have changed, should need to change only the output file names.

Note: when using more than one file type in a run, the new file name should follow the K4OUT change.

Note: if re-running a test, must first delete any existing files with the same name as the  named output files. Look at \nf{ VerTest.inp} to check name and directory of output files. If these files eist, delete them. The ones included in the distribution should start with ``Orig''. 

Then run KRC with the test input file

Then get into IDL and do: \ \  .rnew krcvtest


\section{Outline of Prerequisite Steps} %--------  
Build a KRC distribution, including the shared object library
\\ Edit \nf{VerTest.inp} if necessary
\\ Run KRC on VerTest.inp and Mone.inp
\\ Edit kirin.pro for the current site
\\ Start IDL
\\ kirin  (should compile and execute the kirin routine)
\\ .rnew krcvtest


\subsection{KRC runs}
Edit the output file names in  \nf{VerTest.inp}  appropriately. Run the latest version of KRC on this input file.
\qi Output files from runs on earlier KRC versions should be available in the distribution.  If not, then run an older version of KRC  on VerTest.inp after changing on ly the output file names.

These should create files of the following sizes with similar names:
\vspace{-3.mm} 
\begin{verbatim}
 27135872 Vntest1.t52
  1195200 Vntest2.t0
 27135872 V222test1.t52
   524000 V222test2.t52
  1195200 V222test2.t0
   582528 V222test2.tm1
\end{verbatim}

\subsubsection{One Point mode} %............

Run both versions of KRC on Mone.inp, with different print file names

\subsection{IDL} 
Set the IDL path
\\ edit \np{kinin.pro} for the current environment
\\ start IDL
\\ do:  kirin

kirin should open a plot window and print something like:
\vspace{-3.mm} 
\begin{verbatim}
env:  MYHOME= /home/hkieffer/   !outid = Kieffer
IDLTOP=!idltop= /home/hkieffer/idl/
PROJSRC=/home/hkieffer/krc/tes/
PROJDAT=/work/work1/krc/test/
Printer names: MYBW=HP_Laserjet_3330  MYCLR=q
Monitor size=    1280    1000
\end{verbatim}

Do: .rnew krcvtest

\subsection{OnePoint mode} %------------------------------------------------
Run KRC (latest version) with the input file \nf{Mone.inp}, which refers to \nf{oneA.one}. You may want to edit the  ??

Run prior version of KRC, e.g.,  krc12nov30 with its matching OnePoint file, i.e. \nf{V1Mone.inp} , which should refer to \nf{oneA.one} 

\subsection{Notes} %------------------------------------------------

KRC will not open a new direct-access file if it already exists, so if redoing a run, must first remove older files with the desired names.

The V2.2.4 distribution also contains test files for Version 2.1.1
\section{Files output by KRC and input to the test program \label{finput}} %----------

The input file \nf{-/run/VerTest.inp} contains effectively four 'runs' of KRC. The first 'run' has 8 cases output into a single type 52 file. Then next three 'runs' are a single global case repeated three times and output to 3 different types of file.

Group refers to the set of cases in a KRC run. 


Group 1: A single type 52 file:  Every sol for 670 seasons; 5 latitudes. No spinup. Cases are: (1-based index)
\qi 1 \ With atmosphere, soil properties constant with T, frost properties constant
\qi 2 \ With atmosphere, soil properties T-dependent, frost properties constant
\qi 3 \ With atmosphere, soil properties constant with T, frost properties variable
\qi 4 \ No atmosphere, soil properties constant with T
\qi 5 \ No atmosphere, soil properties T-dependent
\qi 6 \ No atmosphere, soil properties T-dependent, but uniform over temperature

Group 2:  Has 19 latitudes for 40 seasons, with a 2-year spinup.
\qi 1 case only, default values.  Output type 52 and type 0 and type 1
\qii 37 latitudes, 3 year spinup, 40 seasons output, equal one Mars year.
\qi Three output file types.
\qii Type 52.  File extension .t52
\qii Type 0. File extension .t0
\qii Type -1. File extension .tm1
 
\section{Test program} %------------------------------------------------

The test program is an IDL program structured with a large case
statement. Selectable actions are indicated by the ``@'' sign. The 11x actions
each define a sequence of other actions \nv{kons}, which are each started by
@123. Several of these are described in the following subsections, along with examples of the expected output.

The IDL action -1 causes the program to wait for the user to hit any key and is commonly used after a plot.

\subsection{Startup actions}
\vspace{-3.mm} 
\begin{verbatim}
860.. set color scheme
20... Get KRCCOM structure and definitions
200.. Set to VerA 
203.. Set to case group 2
207.. Set input file stem
21... Open file to determine locations of krccom
22... Get KRC changes
29... Close the KRC unit
252.. Open/Read/Close type 52 file
\end{verbatim}


Ver or Version refers to the Version of KRC, at time of this document 2.2.2 .
 VerA is defined by items 0:3 in the set of strings set @11; VerB is set by items 5:8.


\subsection{ Useful general actions}

@99 Prints a list of all actions

@11 Allows modification of input file path-names.

@18 Prints ``help''  for the critical arrays. The first five are for the type 52 file; they all must exist for anything to work.  TSZ and TSM are the surface temperature arrays for the type 0 and -1 files respectively; they are required for actions starting with 5 or 6.

@188 Prints a guide to Type 52 extracted arrays.

@14  Allows modification of some control items

@123 Executes the current sequence of actions \nv{kons}

\subsection{Files  @11} %...............................................
\vspace{-3.mm} 
\begin{verbatim}
File names
  0 VerA=new DIR       = /work/work1/krc/test/
  1  " case file       = V222test1
  2  " multi-type stem = V222test2
  3  " OnePoint [.prt] = V222Mone
  4 spare              = ---
  5 VerB=prior DIR     = /work/work1/krc/test/
  6  " case file       = Vntest1
  7  " multi-type stem = V211test2
  8  " OnePoint [.prt] = V1Mone
  9 spare              = ---
 10 DIR for IDL output = /home/hkieffer/idl/
\end{verbatim}
\subsection{Default sequence} %------------------------------------------------
default: kons=[860,20,200,203,207,21,22,29,252]
\qi \at 860.. ......... missing ......... set the color scheme
\qi \at 20... Get KRCCOM structure and definitions
\qi \at 200.. Set to VerA 
\qi \at 203.. Set to case group 2
\qi \at 207.. set input file stem
\qi \at 21... Open file to determine locations of krccom
\qi \at 22... Get KRC changes
\qi \at 29... Close the KRC unit
\qi \at 252.. Open/Read/Close type 52 file

\subsubsection{Print to terminal } %...........

\vspace{-3.mm} 
\begin{verbatim}
> 123
Doing -------------->     860
Doing -------------->      20
Doing -------------->     200
Doing -------------->     203
Doing -------------->     207
Doing -------------->      21
khold=         100      130872           1         255
Doing -------------->      22
Case=  1 had: ALBEDO=0.25 INERTIA=200. CABR=0.11 T_DEEP=180. TauDust=0.3 TauRati=0.5 IB=0 
Doing -------------->      29
Doing -------------->     252
Will Read  file: /work/work1/krc/test/V222test2.t52 Size=  5 24 7 19 41 1 4 130872
# layers computed, transfered=          20          19
TTT             FLOAT     = Array[24, 5, 19, 40, 1]
UUU             FLOAT     = Array[19, 2, 1]
VVV             FLOAT     = Array[40, 5, 1]
DDD             FLOAT     = Array[19, 2, 19, 40, 1]
GGG             FLOAT     = Array[6, 19, 40, 1]
VERN            STRING    = '2.2.2'
KCOM            STRUCT    = -> <Anonymous> Array[1]
Nseas, nlat, ncase=          40          19           1
\end{verbatim}


\subsection{Re-read version A cases. @111} %------------------------------
111: kons=[201,21,22,29,252] 
\vspace{-3.mm} 
\begin{verbatim}
201.. Set to VerA cases
21... Open file to determine locations of krccom
22... Get KRC changes
29... Close the KRC unit
252.. Open/Read/Close type 52 file
\end{verbatim}

\subsection{Tests between cases within one version. @112} %---------------

112: kons=[41,-1,411,-1,42,43,-1,44,-1,45,-1,46] 
\vspace{-3.mm} 
\begin{verbatim}
41... Test Ls
-1...  Wait
411.. Check Ls against LSAM
-1...  Wait
42... Confirm convergence days
43... Plot hourly Ts near equator for 2 seasons
-1...  Wait
44... Display central latitude seasonal behaviour
-1...  Wait
45... No atm, T:const - T:uniform
-1...  Wait
46... Tatm-TnoAtm
\end{verbatim}

@41 Plots of Group 1 Ls versus season index, see Figure \ref{p41}.  Print the
range of differences in $L_S$ betwees cases, which should be less than 0.001

\begin{figure}[!ht] \igc{p41}
\caption[Ls] {Group 1 Ls versus season index
\label{p41} } \end{figure}

@411 Compares the Ls computed in \np{readtype52.pro} with the Allison and McEwen model computed in \np{lsam.pro}, which includes planetary perturbations.  Absolute values should be less than 0.1; see Figure \ref{p411}. 

\begin{figure}[!ht] \igc{p411}
\caption[Ls difference] {Difference in $L_S$, KRC- \np{lsam.pro}
\label{p411} } \end{figure}

@42 Checks that all seasons of Group 1 ran for a single day. The min and max of
NDJ4 should be 1.

@43 Displays diurnal curves for seasons closest to perihelion (Ls=251, upper
curves near midday) and aphelion (Ls=71, lower curves near midday) for each
case. All the curves should look like normal diurnal temperature curves. Expect
the major effect to be presence or absence of atmosphere, so cases 1,2 and 3
should group, and cases 4,5,6 should group and be cooler at night. Case 6 may
plot on top of case 4.  See Figure \ref{p43}. 

\begin{figure}[!ht] \igc{p43}
\caption[Ts versus Hour] { Diurnal $T_s$ for a latitude near-or-at the equator for two seasons for each case.
\label{p43} } \end{figure}

@44 Plots the surface temperature near noon for all seasons and cases, there is
a different curve for each latitude. There can be a discontinuity between
cases. See Figure \ref{p44}.

\begin{figure}[!ht] \igc{p44}
\caption[Ts versus season and latitude] { $T_s$ near noon for 5 latitudes for all seasons for each case.
\label{p44} } \end{figure}

@45 Looks at the difference between case 5 (KofT turned off) and case 3 (KofT on but the temperature dependence set to zero). For each of the 5 major items in a Type 52 file:
\qi   0= surface kinetic temperature
\qi   1= Top-of-atmosphere bolometric temperature
\qi   2= one-layer atmosphere kinetic temperature
\qi   3= Down-welling solar radiance 
\qi   4= Down-welling thermal radiance
\\ The Mean Absolute Residual (MAR) of case5 - case3 for all hours, latitudes and seasons is computed and printed. If this exceeds 1.E-6, then a histogram is plotted.

For V2.2.2 only Tsur exceeded this criterion, the MAR is 5.1e-05 and the
extremes (shown in the histogram annotation) are -0.00007 and +7.6e-5.

@46 plots the difference (Atmosphere - NoAtmosphere) for Tsurf (bottom plot) and
Down-going Solar flux at the surface (top plot) for a subset of hours and
seasons (set by @14, items 0 and 1) for all the latitudes. Temperatures are
generally higher with an atmosphere, extreme differences are probably related to
cap edge positions. Delta DownVIS should always be smaller (the plotted
difference is negative).  Histograms of these differences are plotted.  MAR for
Tsurf is about 6 and for DownVis is about 10.

\subsection{Difference between file types. @113 and @114 } %........................
 
113: kons=[252,50,51] Reads the three global/annual files. 
\vspace{-3.mm} 
\begin{verbatim}
252.. Open/Read/Close type 52 file
50... Read type 0
51... Read type -1
\end{verbatim}

114: kons=[511,-1,52,-1,53,-1,55] Tests for differences 
\vspace{-3.mm} 
\begin{verbatim}
511.. Compare Ls in Type 0 file with LSAM 
-1...  Wait
52... Plot delta of each ddd item
-1...  Wait
53... Check Ls between types
-1...  Wait
55... Check Ts and Tp for equivalence between types
\end{verbatim}

@511 Compares the Ls contained in the Type 0 file for each season with the
Allison and McEwen model computed in lsam.pro, which includes planetary
perturbations. This comparison ASSUMES that DELJUL was constant for the run
(True for the test files).

@52 Generates a series of plots for the six items extracted from LATCOM
contained in Type 0. ``predicted'' is extraplated from the sols computed to the
end of the season
\vspace{-3.mm} \begin{tabbing}
ww \= 5:w \= FROST4(MAXN4)w \= rms \kill
 \> 0: \> DTM4(MAXN4)   \> rms temperature change on last day \\
 \> 1: \> TST4(MAXN4)   \> predicted equilibrium temperature of ground \\
 \> 2: \> TTS4(MAXN4)   \> predicted mean surface temperature for each latitude \\
 \> 3: \> TTB4(MAXN4)   \> predicted mean bottom temperature \\
 \> 4: \> FROST4(MAXN4) \> predicted frost amount kg/m$^2$. \\
 \> 5: \>  AFRO4(MAXN4)  \> frost albedo. May be a single line if constant frost albedo was used (LVFA=F) \\
\end{tabbing}  \vspace{-3.mm}
The abscissa is the saved season index; there is a curve for each latitude. The first plot is shown in Figure \ref{p52a}.
 
\begin{figure}[!ht] \igc{p52a}
\caption[Type 0 summary] {Behavior of summary values for each latitude and season in Type 0 files. Example of 
the RMS temperature change on last computed day. The spikes are near the edge of the polar caps. \label{p52a} } \end{figure}

@522 plots just one of the above; selected by  @14 item 3. Figure \ref{p522} is an example for mean surface temperature

\begin{figure}[!ht] \igc{p522}
\caption[Diurnal Mean Ts] {Diurnal average of Ts as a function of time (season index) for each global latitude 
\label{p522} } \end{figure}

@53 Compares the $L_S$ for the three types. 
 \vspace{-5.mm} \begin{tabbing}
ww \= Type 52:w \= Plus signw \= Extr \kill
 \> Type 52: \> line \>    Extracted from the file for each season \\
 \> Type 0: \>  Plus sign\>  From each LATCOM \\
 \> Type 1:  \> Diamond \>  Computed in \np{readkrc1.pro} based on assumption of uniform seasons \\ 
\end{tabbing}
 The 100-fold magnified differences of Types 0 and -1 from Type 52  are plotted relative to the $L_S$=200 level (one ordinate tic is 0.1 degree); see Figure \ref{p53}. Differences should be less than 0.1K.

\begin{figure}[!ht] \igc{p53}
\caption[Diurnal Mean Ts] {$L_S$ in file types 0 (plus sign), -1 (diamond) and 52 (line).  The 100-fold magnified differences of Types 0 and -1 from Type 52  are plotted relative to the $L_S$=200 level (one ordinate tic is 0.1 degree).
\label{p53} } \end{figure}


@55 Prints statistics for the difference in Tsur and Tplan between file types (first 4 lines) and then between Type 52 and Type 0 for 3 items. All values should be zero.

\subsection{Difference between versions. @115 and @116} %---------------------
115: kons=[202,252]   The sequence @115 123 will read the VerB Type 52 file
\vspace{-3.mm} 
\begin{verbatim}
26... tth=ttt etc.
201.. Set to VerB
202.. set to case group 1
252.. Open/Read/Close type 52 file
\end{verbatim}

116: kons=[61,-1,62,63]  The sequence @116 123 will runs tests between versions using the Type 52 file
\vspace{-3.mm} 
\begin{verbatim}
61... Plot LS-LSH
-1...  Wait
62... Plot Tsur noon equator
63... Stats on VerB-VerA
\end{verbatim}
@61 Plots the difference in $L_S$ between versions if this diference is not zero. The abscissa is the difference in date, which may be large but should have a span of about 690 days. The ordinate is difference in $L_S$;  all absolute values should be less than about 0.1. 

@62 Plots the near-noon, near-equator surface temperature for all seasons for
both versions; VerB as dashed blue. Curves should nearly overlay. The 100-fold
magnified difference VerB-VerA is plotted relative to T=280. See figure
\ref{p62}

\begin{figure}[!ht] \igc{p62}
\caption[Seasonal Equator Noon] {Ts near midday and near the equator as a function of time (season index). Version A; solid; version B, dashed color. Magnified difference:  100*(VerB-VerA)+280. 
\label{p62} } \end{figure}

@63 Prints statistics on the difference for all the items in the type 52
arrays. Mean and StdDev values should be generally small; DJU5 will be large if
the versions used both the J2000.0 and the -2440000 date conventions. Minimum
and maximum differences can be large due to the polar cap edge.

\subsection{OnePoint mode}
 @71 reads both VerA and VerB OnePoint files. It compares all the input fields, and should report differences as zero. If so, it will report the range on output differences. If input differences exceed 0.001, it will halt.

\section{Check an installation with minimal waits}
The long sequence @117 compares the results for files of all types in the KRC distribution with values computed
with the new installation.  KRC must have been run at your location with the
\nf{VerTest.inp} and with \nf{Mone.inp} input files.

After @117, do @11 to check/correct the file names.  Then @123 will execute the
 sequence to test all file types and the onePoint mode.  All the statistical
 results should be 0 or tiny.
\subsection{@117} %---------------------
117:  Sets Version A to new run and version B to latest in the distro
 
\vspace{-3.mm} 
\begin{verbatim}
200.. Set to VerA 
202.. set to case group 1
207.. set input file stem
21... Open file to determine locations of krccom
22... Get KRC changes
29... Close the KRC unit
252.. Open/Read/Close type 52 file
26... tth=ttt etc.
201.. Set to VerB
207.. set input file stem
252.. Open/Read/Close type 52 file
62... Plot Tsur noon equator
63... Stats on VerB-VerA
\end{verbatim}
  
 MOVE @26 Will save the VerA Type 52 arrays

\appendix

\section{Actions} %_______________
List by doing  @992.  Short form by @99
\qi \at 0.... Stop
\qi \at -1...  Wait
\qi \at 110.. Reset names to default
\qi \at 111.. kons=[200,202,207,21,22,29,252] Reread VerA group 2 cases
\qi \at 112.. kons=[41,-1,411,-1,42,43,-1,44,-1,45,-1,46] Test cases
\qi \at 113.. kons=[252,50,51] Read 3 types 
\qi \at 114.. kons=[511,-1,52,-1,53,-1,55] Test between types
\qi \at 115.. kons=[26,201,202,252] Save current t52 and Read VerB cases
\qi \at 116.. kons=[61,-1,62,63] Compare versions
\qi \at 117.. kons=[200,202,207,21,22,29,252,26,201,207,252,62,63]
\qi \at 123.. Start auto-script 
\qi \at 11... Modify File names parf
\qi \at 14... Modify integers pari
\qi \at 18... Help, and print cases
\qi \at 188.. contents
\qi \at 19... Print input portion of selected KRCCOM arrays REQ 20,21
\qi \at 200.. Set to VerA 
\qi \at 201.. Set to VerB
\qi \at 202.. Set to case group 1
\qi \at 203.. Set to case group 2
\qi \at 207.. set input file stem
\qi \at 20... Get KRCCOM structure and definitions
\qi \at 21... Open file to determine locations of krccom
\qi \at 221.. Change KRCCOM List
\qi \at 22... Get KRC changes
\qi \at 23... Print krccom
\qi \at 232.. Difference 2 KRCCOM's  REQ 26
\qi \at 252.. Open/Read/Close type 52 file
\qi \at 26... tth=ttt etc.
\qi \at 266.. Help latest and hold
\qi \at 29... Close the KRC unit
\qi \at 41... Test Ls
\qi \at 411.. Check Ls against LSAM
\qi \at 42... Confirm convergence days
\qi \at 43... Plot hourly Ts near equator for 2 seasons
\qi \at 44... Display central latitude seasonal behaviour
\qi \at 45... No atm, T:const - T:uniform
\qi \at 46... Tatm-TnoAtm
\qi \at 50... Read type 0
\qi \at 51... Read type -1
\qi \at 511.. Compare Ls in Type 0 file with LSAM 
\qi \at 52... Plot delta  of each ddd item
\qi \at 522.. Plot one dd0 item
\qi \at 53... Check Ls between types
\qi \at 55... Check Ts and Tp for equivalence between types
\qi \at 56... Store Type 0,-1
\qi \at 57... Compare Versions for Type 0 and -1
\qi \at 61... Plot LS-LSH
\qi \at 62... Plot Tsur noon equator
\qi \at 63... Stats on VerB-VerA
\qi \at 71... Test one-point mode

Plus the actions provided by KON91
\vspace{-3.mm} 
\begin{verbatim}
-9=StopInKON91  -3=null  -1=pause    0=Stop    888=setcolorGuide
100=wset,0  101=erase  102=wset,2  103=window for output
121=kons=-3  122=Edit Kons  801/2/3/4 output to eps/png/jpg/-eps
808=actionlabel at TopLeft   809=Warning to mv output file
81/82=start/endClrEps  8=newPS 80=restart 87=close 88=subtitle 9=plotPS
MAKE99: 991=Expand current kons   992/995=1-line each   994=expand all
\end{verbatim}


\end{document} %===============================================================
% ===================== stuff beyond here ignored =============================


\bibliography{mars}   %>>>> bibliography data
\bibliographystyle{plain}   % alpha  abbrev

\appendix
 
\section{Cookbook \label{cook}} %______________________________
\vspace{-3.mm}
\begin{verbatim}
        A Cookbook to generating test files 
\end{verbatim}

